<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nh·∫≠p Tri·ªáu ch·ª©ng - Medical AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .wizard-step {
            display: none;
        }

        .wizard-step.active {
            display: block;
        }

        .spinner {
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body class="bg-gray-50">
    <div class="max-w-3xl mx-auto px-4 py-6">
        <!-- Header -->
        <header class="mb-6">
            <a href="{{ url_for('medical.landing') }}"
                class="text-purple-600 hover:text-purple-700 text-sm font-medium">‚Üê Quay l·∫°i</a>
            <h1 class="text-3xl font-bold text-gray-800 mt-2">üè• Ki·ªÉm tra Tri·ªáu ch·ª©ng</h1>
        </header>

        <!-- Progress Bar -->
        <div class="mb-8 bg-white rounded-lg p-4 shadow-sm border border-gray-100">
            <div class="flex justify-between text-sm font-medium text-gray-600 mb-2">
                <span id="progressText">B∆∞·ªõc 1/3</span>
                <span id="progressPercent">33%</span>
            </div>
            <div class="h-2 bg-gray-200 rounded-full overflow-hidden">
                <div class="h-full bg-gradient-to-r from-purple-500 to-indigo-600 transition-all duration-300"
                    id="progressFill" style="width: 33%"></div>
            </div>
        </div>

        <!-- Form -->
        <main class="bg-white rounded-lg shadow-sm border border-gray-100 p-6">
            <form id="symptomForm">
                <!-- Step 1: Basic Info -->
                <div class="wizard-step active" data-step="1">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">üë§ Th√¥ng tin C∆° b·∫£n</h2>

                    <div class="mb-6">
                        <label for="tuoi" class="block text-sm font-semibold text-gray-700 mb-2">Tu·ªïi <span
                                class="text-red-500">*</span></label>
                        <input type="number" id="tuoi" name="tuoi" min="0" max="120" required
                            placeholder="Nh·∫≠p tu·ªïi c·ªßa b·∫°n"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                    </div>

                    <div class="mb-6">
                        <label for="gioi_tinh" class="block text-sm font-semibold text-gray-700 mb-2">Gi·ªõi t√≠nh</label>
                        <select id="gioi_tinh" name="gioi_tinh"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                            <option value="nam">Nam</option>
                            <option value="nu">N·ªØ</option>
                            <option value="khac">Kh√°c</option>
                        </select>
                    </div>

                    <div class="flex justify-end">
                        <button type="button" onclick="nextStep()"
                            class="px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors">
                            Ti·∫øp theo ‚Üí
                        </button>
                    </div>
                </div>

                <!-- Step 2: Symptoms -->
                <div class="wizard-step" data-step="2">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">üå°Ô∏è Tri·ªáu ch·ª©ng</h2>

                    <div class="mb-6">
                        <label for="nhiet_do" class="block text-sm font-semibold text-gray-700 mb-2">
                            Nhi·ªát ƒë·ªô c∆° th·ªÉ (¬∞C) <span class="text-red-500">*</span>
                        </label>
                        <input type="number" id="nhiet_do" name="nhiet_do" min="35" max="42" step="0.1" value="36.5"
                            required
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        <p class="mt-2 text-sm text-gray-500">üí° Nhi·ªát ƒë·ªô b√¨nh th∆∞·ªùng: 36-37¬∞C</p>
                        <div id="nhiet_do_status" class="mt-2 text-sm font-medium"></div>
                    </div>

                    <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                        <label class="flex items-center cursor-pointer">
                            <input type="checkbox" id="ho" name="ho"
                                class="w-5 h-5 text-purple-600 rounded focus:ring-purple-500">
                            <span class="ml-3 text-sm font-medium text-gray-700">C√≥ ho kh√¥ng?</span>
                        </label>
                    </div>

                    <div class="mb-6" id="loai_ho_group" style="display:none;">
                        <label class="block text-sm font-semibold text-gray-700 mb-3">Lo·∫°i ho:</label>
                        <div class="space-y-2">
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100">
                                <input type="radio" name="loai_ho" value="khan" checked class="w-4 h-4 text-purple-600">
                                <span class="ml-3 text-sm text-gray-700">Ho khan</span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100">
                                <input type="radio" name="loai_ho" value="co_dam" class="w-4 h-4 text-purple-600">
                                <span class="ml-3 text-sm text-gray-700">Ho c√≥ ƒë·ªùm</span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100">
                                <input type="radio" name="loai_ho" value="ra_mau" class="w-4 h-4 text-purple-600">
                                <span class="ml-3 text-sm text-gray-700">Ho ra m√°u</span>
                            </label>
                        </div>
                    </div>

                    <div class="mb-6">
                        <label class="block text-sm font-semibold text-gray-700 mb-3">Tri·ªáu ch·ª©ng kh√°c (ch·ªçn t·∫•t c·∫£ n·∫øu
                            c√≥):</label>
                        <div class="grid md:grid-cols-2 gap-3">
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100">
                                <input type="checkbox" name="dau_dau" class="w-5 h-5 text-purple-600 rounded">
                                <span class="ml-3 text-sm text-gray-700">ƒêau ƒë·∫ßu</span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100">
                                <input type="checkbox" name="met_moi" class="w-5 h-5 text-purple-600 rounded">
                                <span class="ml-3 text-sm text-gray-700">M·ªát m·ªèi</span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100">
                                <input type="checkbox" name="dau_hong" class="w-5 h-5 text-purple-600 rounded">
                                <span class="ml-3 text-sm text-gray-700">ƒêau h·ªçng</span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100">
                                <input type="checkbox" name="chay_mui" class="w-5 h-5 text-purple-600 rounded">
                                <span class="ml-3 text-sm text-gray-700">Ch·∫£y m≈©i</span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100">
                                <input type="checkbox" name="kho_tho" class="w-5 h-5 text-purple-600 rounded">
                                <span class="ml-3 text-sm text-gray-700">Kh√≥ th·ªü</span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100">
                                <input type="checkbox" name="dau_nguc" class="w-5 h-5 text-purple-600 rounded">
                                <span class="ml-3 text-sm text-gray-700">ƒêau ng·ª±c</span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100">
                                <input type="checkbox" name="dau_bung" class="w-5 h-5 text-purple-600 rounded">
                                <span class="ml-3 text-sm text-gray-700">ƒêau b·ª•ng</span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100">
                                <input type="checkbox" name="buon_non" class="w-5 h-5 text-purple-600 rounded">
                                <span class="ml-3 text-sm text-gray-700">Bu·ªìn n√¥n</span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100">
                                <input type="checkbox" name="tieu_chay" class="w-5 h-5 text-purple-600 rounded">
                                <span class="ml-3 text-sm text-gray-700">Ti√™u ch·∫£y</span>
                            </label>
                        </div>
                    </div>

                    <div class="flex justify-between">
                        <button type="button" onclick="prevStep()"
                            class="px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors">
                            ‚Üê Quay l·∫°i
                        </button>
                        <button type="button" onclick="nextStep()"
                            class="px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors">
                            Ti·∫øp theo ‚Üí
                        </button>
                    </div>
                </div>

                <!-- Step 3: COVID & Additional -->
                <div class="wizard-step" data-step="3">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">üîç Tri·ªáu ch·ª©ng ƒê·∫∑c bi·ªát</h2>

                    <div class="mb-6">
                        <label class="block text-sm font-semibold text-gray-700 mb-3">Tri·ªáu ch·ª©ng li√™n quan
                            COVID-19:</label>
                        <div class="grid md:grid-cols-2 gap-3">
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100">
                                <input type="checkbox" name="mat_vi_giac" class="w-5 h-5 text-purple-600 rounded">
                                <span class="ml-3 text-sm text-gray-700">M·∫•t v·ªã gi√°c</span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100">
                                <input type="checkbox" name="mat_khu_giac" class="w-5 h-5 text-purple-600 rounded">
                                <span class="ml-3 text-sm text-gray-700">M·∫•t kh·ª©u gi√°c</span>
                            </label>
                        </div>
                    </div>

                    <div class="mb-6">
                        <label for="spo2" class="block text-sm font-semibold text-gray-700 mb-2">
                            SpO2 - N·ªìng ƒë·ªô oxy trong m√°u (%) (n·∫øu c√≥ m√°y ƒëo)
                        </label>
                        <input type="number" id="spo2" name="spo2" min="70" max="100"
                            placeholder="ƒê·ªÉ tr·ªëng n·∫øu kh√¥ng ƒëo ƒë∆∞·ª£c"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        <p class="mt-2 text-sm text-gray-500">üí° B√¨nh th∆∞·ªùng: >= 95%</p>
                    </div>

                    <div class="mb-6">
                        <label for="ghi_chu" class="block text-sm font-semibold text-gray-700 mb-2">Ghi ch√∫ th√™m (t√πy
                            ch·ªçn):</label>
                        <textarea id="ghi_chu" name="ghi_chu" rows="3"
                            placeholder="V√≠ d·ª•: Ho nhi·ªÅu v√†o ban ƒë√™m, ·∫£nh h∆∞·ªüng gi·∫•c ng·ªß..."
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"></textarea>
                    </div>

                    <div class="flex justify-between">
                        <button type="button" onclick="prevStep()"
                            class="px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors">
                            ‚Üê Quay l·∫°i
                        </button>
                        <button type="submit"
                            class="px-8 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-indigo-700 transition-all transform hover:scale-105">
                            üîç Ph√¢n t√≠ch Tri·ªáu ch·ª©ng
                        </button>
                    </div>
                </div>
            </form>

            <!-- Loading overlay -->
            <div id="loadingOverlay" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
                style="display:none;">
                <div class="bg-white rounded-xl p-8 max-w-md mx-4 text-center">
                    <div class="flex justify-center mb-4">
                        <div class="spinner border-purple-600"></div>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">ƒêang ph√¢n t√≠ch...</h3>
                    <p id="loadingText" class="text-gray-600 mb-6">ƒêang x·ª≠ l√Ω tri·ªáu ch·ª©ng c·ªßa b·∫°n</p>
                    <div class="space-y-2 text-left text-sm">
                        <div class="flex items-center text-green-600">
                            <span class="mr-2">‚úì</span>
                            <span>ƒê√£ x√°c ƒë·ªãnh tri·ªáu ch·ª©ng</span>
                        </div>
                        <div class="flex items-center text-purple-600 font-medium">
                            <span class="mr-2">‚è≥</span>
                            <span>ƒêang so kh·ªõp v·ªõi c∆° s·ªü tri th·ª©c</span>
                        </div>
                        <div class="flex items-center text-gray-400">
                            <span class="mr-2">‚è≥</span>
                            <span>ƒêang t·∫°o b√°o c√°o</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="/static/medical/medical.js"></script>
</body>

</html>